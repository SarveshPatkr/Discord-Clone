(this["webpackJsonpdiscord-by-sarvesh"]=this["webpackJsonpdiscord-by-sarvesh"]||[]).push([[0],{66:function(e,a,n){e.exports=n(94)},71:function(e,a,n){},76:function(e,a,n){},77:function(e,a,n){},78:function(e,a,n){},80:function(e,a,n){},91:function(e,a,n){},92:function(e,a,n){},93:function(e,a,n){},94:function(e,a,n){"use strict";n.r(a);var t=n(0),l=n.n(t),c=n(18),r=n.n(c),s=(n(71),n(12)),i=(n(76),n(29)),o=(n(77),n(78),n(42)),m=n.n(o),u=n(46),d=n.n(u),h=n(47),p=n.n(h),E=n(48),v=n.n(E),f=n(49),b=n.n(f),N=n(50),_=n.n(N);var g=function(e){var a=e.channelName;return l.a.createElement("div",{className:"chatheader"},l.a.createElement("div",{className:"chatheader__left"},l.a.createElement("h4",null,l.a.createElement("span",{className:"chatheader__hash"},"#"),a)),l.a.createElement("div",{className:"chatheader__right"},l.a.createElement(m.a,null),l.a.createElement(d.a,null),l.a.createElement(p.a,null),l.a.createElement("div",{className:"chatheader__search"},l.a.createElement("input",{type:"text",placeholder:"Search (Do not work yet)"}),l.a.createElement(v.a,null)),l.a.createElement(b.a,null),l.a.createElement(_.a,null)))},y=n(108);n(80);var O=function(e){var a=e.message,n=e.timestamp,t=e.user;return l.a.createElement("div",{className:"message"},l.a.createElement(y.a,{src:t.photo}),l.a.createElement("div",{className:"message__info"},l.a.createElement("p",null,t.displayName,l.a.createElement("span",{className:"message__timestamp"},new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString())),l.a.createElement("h3",null,a)))},j=n(51),k=n.n(j),S=n(52),w=n.n(S),C=n(53),I=n.n(C),A=n(54),D=n.n(A),P=n(21),Q=Object(P.b)({name:"user",initialState:{user:null},reducers:{login:function(e,a){e.user=a.payload},logOut:function(e){e.user=null}}}),T=Q.actions,W=T.login,x=T.logOut,B=function(e){return e.user.user},R=Q.reducer,V=Object(P.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,a){e.channelId=a.payload.channelId,e.channelName=a.payload.channelName}}}),z=V.actions.setChannelInfo,F=function(e){return e.app.channelId},G=function(e){return e.app.channelName},J=V.reducer,U=n(23),K=n.n(U),L=K.a.initializeApp({apiKey:"AIzaSyAu3QcKsTq44QisJWYE1nQA7ftVdZZkiig",authDomain:"discord-by-sarvesh-patkar.firebaseapp.com",databaseURL:"https://discord-by-sarvesh-patkar.firebaseio.com",projectId:"discord-by-sarvesh-patkar",storageBucket:"discord-by-sarvesh-patkar.appspot.com",messagingSenderId:"432057910635",appId:"1:432057910635:web:19856577175f82b566382e",measurementId:"G-QV5FGR7QHQ"}).firestore(),Z=K.a.auth(),q=new K.a.auth.GoogleAuthProvider,H=L;var M=function(){var e=Object(s.c)(B),a=Object(s.c)(F),n=Object(s.c)(G),c=Object(t.useState)(""),r=Object(i.a)(c,2),o=r[0],m=r[1],u=Object(t.useState)([]),d=Object(i.a)(u,2),h=d[0],p=d[1];return Object(t.useEffect)((function(){a&&H.collection("channels").doc(a).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return p(e.docs.map((function(e){return e.data()})))}))}),[a]),l.a.createElement("div",{className:"chat"},l.a.createElement(g,{channelName:n}),l.a.createElement("div",{className:"chat__messages"},h.map((function(e){return l.a.createElement(O,{message:e.message,user:e.user,timestamp:e.timestamp})}))),l.a.createElement("div",{className:"chat__input"},l.a.createElement(k.a,null),l.a.createElement("form",null,l.a.createElement("input",{value:o,onChange:function(e){return m(e.target.value)},disabled:!a,placeholder:"Type a message"}),l.a.createElement("button",{disabled:!o,onClick:function(n){n.preventDefault()," "===o||H.collection("channels").doc(a).collection("messages").add({message:o,user:e,timestamp:K.a.firestore.FieldValue.serverTimestamp()}),m("")},type:"submit"},"Send")),l.a.createElement("div",{className:"chat__messageicon"},l.a.createElement(w.a,null),l.a.createElement(I.a,null),l.a.createElement(D.a,null))))},Y=(n(91),n(35)),$=n.n(Y),X=n(55),ee=n.n(X);n(92);var ae=function(e){var a=e.id,n=e.channelName,t=e.pass,c=Object(s.b)();return l.a.createElement("div",{className:"sidebar__channel",onClick:function(){var e=prompt("Enter Room Pasword");console.log(e),console.log(t),t===e?c(z({channelId:a,channelName:n})):alert("Wrong Password")}},l.a.createElement("h4",null,l.a.createElement("span",{className:"sidebarchannel__hash"},"#"),n))},ne=n(56),te=n.n(ne),le=n(57),ce=n.n(le),re=n(58),se=n.n(re),ie=n(106),oe=n(59),me=n.n(oe),ue=n(60),de=n.n(ue),he=n(61),pe=n.n(he);var Ee=function(){var e=Object(s.c)(B),a=Object(t.useState)([]),n=Object(i.a)(a,2),c=n[0],r=n[1];return Object(t.useEffect)((function(){H.collection("channels").onSnapshot((function(e){return r(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),l.a.createElement("div",{className:"sidebar"},l.a.createElement("div",{className:"sidebar__top"},l.a.createElement("h3",null,"Discord"),l.a.createElement($.a,null)),l.a.createElement("div",{className:"sidebar__channels"},l.a.createElement("div",{className:"sidebar__channelheader"},l.a.createElement("div",{className:"sidebar__header"},l.a.createElement($.a,null),l.a.createElement("h4",null,"Text Channels")),l.a.createElement(ee.a,{onClick:function(e){var a=prompt("Enter Channel Name"),n=prompt("Create Password");a&&H.collection("channels").add({channelName:a,pass:n})},className:"sidebar__addchannel"})),l.a.createElement("div",{className:"sidebar__channellist"},c.map((function(e){var a=e.id,n=e.channel;return l.a.createElement(ae,{key:a,pass:n.pass,id:a,channelName:n.channelName})})))),l.a.createElement("div",{className:"sidebar__voice"},l.a.createElement(te.a,{className:"sidebar__voiceicon",fontSize:"large"}),l.a.createElement("div",{className:"sidebar__voiceinfo"},l.a.createElement("h3",null,"Voice Not Connected"),l.a.createElement("p",null,"Stream(Not Available)")),l.a.createElement("div",{className:"sidebar__voiceicons"},l.a.createElement(ce.a,null),l.a.createElement(se.a,null))),l.a.createElement("div",{className:"sidebar__profile"},l.a.createElement(y.a,{src:e.photo}),l.a.createElement("div",{className:"sidebar__profileinfo"},l.a.createElement("h3",null,e.displayName),l.a.createElement("p",null,"#",e.uid.substring(0,7))),l.a.createElement("div",{className:"sidebar__profileicons"},l.a.createElement(me.a,null),l.a.createElement(de.a,null)),l.a.createElement("p",{className:"logout"},"log out",l.a.createElement(ie.a,{onClick:function(){Z.signOut()}},l.a.createElement(pe.a,null)))))},ve=n(107);n(93);var fe=function(){return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"login__text"},l.a.createElement("img",{src:"./discord_logo.png",alt:""}),l.a.createElement("h2",null,"Discord ",l.a.createElement("span",{className:"author"},"by Sarvesh Patkar")," ")),l.a.createElement(ve.a,{onClick:function(){Z.signInWithPopup(q).catch((function(e){return alert(e.message)}))}},"log in"))};var be=function(){var e=Object(s.b)(),a=Object(s.c)(B);return Object(t.useEffect)((function(){Z.onAuthStateChanged((function(a){console.log("user is ",a),e(a?W({uid:a.uid,photo:a.photoURL,email:a.email,displayName:a.displayName}):x())}))}),[e]),l.a.createElement("div",{className:"app"},a?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ee,null),l.a.createElement(M,null)):l.a.createElement(fe,null))},Ne=Object(P.a)({reducer:{user:R,app:J}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,{store:Ne},l.a.createElement(be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.27411e50.chunk.js.map